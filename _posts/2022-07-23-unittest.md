---
layout: post
title:  "单元测试"
date:   2021-10-27 19:38:13
categories: program-experience
tags: unitest
---

* content
{:toc}

unittest单元测试框架是受到 JUnit 的启发，与其他语言中的主流单元测试框架有着相似的风格。其支持测试自动化，配置共享和关机代码测试。支持将测试样例聚合到测试集中，并将测试与报告框架独立。

为了实现这些，unittest通过面向对象的方式支持了一些重要的概念。

##### 测试脚手架
**test fixture** 表示为了开展一项或多项测试所需要进行的准备工作，以及所有相关的清理操作。举个例子，这可能包含创建临时或代理的数据库、目录，再或者启动一个服务器进程。



##### 测试用例
一个测试用例是一个独立的测试单元。它检查输入特定的数据时的响应。 **unittest** 提供一个基类： TestCase ，用于新建测试用例。


##### 测试套件
**test suite** 是一系列的测试用例，或测试套件，或两者皆有。它用于归档需要一起执行的测试。


##### 测试运行器（test runner）
**test runner** 是一个用于执行和输出测试结果的组件。这个运行器可能使用图形接口、文本接口，或返回一个特定的值表示运行测试的结果。


##### unittest.mock —- mock对象库
**unittest.mock** 是一个用于测试的Python库。它允许使用mock对象替换受测试系统的部分，并对它们如何已经被使用进行断言。

unittest.mock 提供的 Mock 类，能在整个测试套件中模拟大量的方法。创建后，就可以断言调用了哪些方法/属性及其参数。还可以以常规方式指定返回值并设置所需的属性。

使用 Mock 的常见场景：
- 1.模拟函数调用
- 2.记录“对象上的方法调用”
