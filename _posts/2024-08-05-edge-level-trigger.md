---
layout: post
title:  边缘触发与条件触发的概念

date:   2024-08-05 10:17:44
categories: linux
tags: 边缘触发
---

* content
{:toc}

#### 边缘触发（Edge-Triggered，ET）

类似于数字电路的边沿触发，是指当某状态改变时触发一次事件，而当状态保持不变时，不触发事件。以EPOLLIN事件为例，当有数据输入缓冲区时触发一次EPOLLIN事件，如果缓冲区数据没有被读取完，那么即使还有数据也不触发EPOLLIN事件。

#### 条件触发（Level-Triggered，LT）

顾名思义，是条件被满足时的触发，也就意味着只要条件被满足就一直会触发事件。还是以EPOLLIN事件为例，只要输入缓冲区内有数据就会一直触发EPOLLIN事件。
条件触发在满足条件时不停触发事件，上例中当缓冲区一直有数据时就会一直通知有数据可读，如果事件不停触发，累积过多事件，会消耗系统资源，而边缘触发只在有数据进入缓冲区时触发一次事件。需要注意以下两点。

- ① 要将套接字设置为以非阻塞方式进行I/O，以阻塞方式进行I/O容易导致程序在I/O阻塞时有其他事件发生。由于边缘触发只触发一次，可能导致应用程序错过事件的处理。
- ② 需要在接到事件通知时，保证将缓冲区的数据全部读取完毕。